<h1>{{"I18N.COMMON.OVERVIEW" | transloco}}</h1>

<mat-dialog-content>

  <section>
    <h2>{{"I18N.COMMON.RECOMMENDATION" | transloco}}</h2>
          
    <div class="text-align-center">
      <button class="recommendation-text"
        [ngClass]="{
          repackage: washingMachine.recommendation === 'REPACKAGE',
          resale: washingMachine.recommendation === 'RESALE',
          outlet: washingMachine.recommendation === 'OUTLET',
          repair: washingMachine.recommendation === 'REPAIR',
          disassemble: washingMachine.recommendation === 'DISASSEMBLE'}">
        {{washingMachine.recommendation}}
      </button>
    </div>

    <p>{{"I18N.COMMON.CREATED" | transloco}}: {{washingMachine.createdAt | date: 'yyyy-MM-dd HH:mm:ss'}}</p>
  </section>

  <h2>{{"I18N.COMMON.PRODUCT_INFORMATION_TITLE" | transloco}}</h2>
  <ul class="product-information-list">  
    <li>{{"I18N.COMMON.CATEGORY" | transloco}}: {{washingMachine.category}}</li>
    <li>{{"I18N.COMMON.MANUFACTURER" | transloco}}: {{washingMachine.manufacturer}}</li>
    <li>{{"I18N.COMMON.SERIAL_NUMBER" | transloco}}: {{washingMachine.serialNumber}}</li>
    <li>{{"I18N.COMMON.MODEL" | transloco}}: {{washingMachine.model}}</li>
    <li>{{"I18N.COMMON.TYPE" | transloco}}: {{washingMachine.type}}</li>
  </ul>

  <h2>{{"I18N.COMMON.DAMAGE_IDENTIFICATION_TITLE" | transloco}}</h2>
  <ul class="product-information-list">  
    <li>{{"I18N.COMMON.IDENTIFICATION_MODE" | transloco}}: {{washingMachine.identificationMode | toLabel}}</li>    
    <li>{{"I18N.COMMON.RETURN_TYPE" | transloco}}: {{washingMachine.returnType | toLabel}}</li>
    <li>{{"I18N.COMMON.DAMAGE_TYPE" | transloco}}: {{washingMachine.damageType | toLabel}}</li>
  </ul>

  <h2>{{"I18N.COMMON.DAMAGED_PRODUCT_IMAGES_TITLE" | transloco}}</h2>
  <section class="image-list">
    @for (image of washingMachine.washingMachineImages; track image) {
      <img [src]="image.imagePrefix+image.image">
    }
  </section>

  <h2>{{"I18N.COMMON.DAMAGES_TITLE" | transloco}}</h2>
  @if (washingMachine.washingMachineDetail; as washingMachineDetail) {
    <section class="damages-container">

      @if (washingMachineDetail.applicablePackageDamage) {
        <article>
          <h3>{{"I18N.COMMON.PACKAGE" | transloco}}</h3>
  
          <ul class="damages-list">
            @if (washingMachineDetail.packageDamaged) { <li>{{"I18N.COMMON.PACKAGE_DAMAGED" | transloco}}</li> }
            @if (washingMachineDetail.packageDirty) { <li>{{"I18N.COMMON.PACKAGE_DIRTY" | transloco}}</li> }
            @if (washingMachineDetail.packageMaterialAvailable) { <li>{{"I18N.COMMON.PACKAGE_REPACKAGE" | transloco}}</li> }              
          </ul>  
        </article>
      }

      @if (washingMachineDetail.applicableVisibleSurfacesDamage) {
        <article>
          <h3>{{"I18N.COMMON.VISIBLE_SURFACES" | transloco}}</h3>
  
          <ul class="damages-list">
            @if (washingMachineDetail.visibleSurfacesHasScratches) {
              <li>
                {{"I18N.COMMON.SCRATCHES_LENGTH" | transloco}}:
                {{washingMachineDetail.visibleSurfacesScratchesLength}} 
                {{"I18N.COMMON.CM" | transloco}}
              </li>
            }
            @if (washingMachineDetail.visibleSurfacesHasDents) {
              <li>
                {{"I18N.COMMON.DENTS_DEPTH" | transloco}}:
                {{washingMachineDetail.visibleSurfacesDentsDepth}} 
                {{"I18N.COMMON.CM" | transloco}}
              </li>
            }
            @if (washingMachineDetail.visibleSurfacesHasMinorDamage) {
              <li>
                {{"I18N.COMMON.MINOR_DAMAGES" | transloco}}:
                {{washingMachineDetail.visibleSurfacesMinorDamage}}
              </li>
            }
            @if (washingMachineDetail.visibleSurfacesHasMajorDamage) {
              <li>
                {{"I18N.COMMON.MAJOR_DAMAGES" | transloco}}:
                {{washingMachineDetail.visibleSurfacesMajorDamage}}
              </li>
            }
          </ul>
        </article>
      }

      @if (washingMachineDetail.applicableHiddenSurfacesDamage) {
        <article>
          <h3>{{"I18N.COMMON.HIDDEN_SURFACES" | transloco}}</h3>
  
          <ul class="damages-list">
            @if (washingMachineDetail.hiddenSurfacesHasScratches) {
              <li>
                {{"I18N.COMMON.SCRATCHES_LENGTH" | transloco}}:
                {{washingMachineDetail.hiddenSurfacesScratchesLength}} 
                {{"I18N.COMMON.CM" | transloco}}
              </li>
            }
            @if (washingMachineDetail.hiddenSurfacesHasDents) {
              <li>
                {{"I18N.COMMON.DENTS_DEPTH" | transloco}}:
                {{washingMachineDetail.hiddenSurfacesDentsDepth}} 
                {{"I18N.COMMON.CM" | transloco}}
              </li>
            }
            @if (washingMachineDetail.hiddenSurfacesHasMinorDamage) {
              <li>
                {{"I18N.COMMON.MINOR_DAMAGES" | transloco}}:
                {{washingMachineDetail.hiddenSurfacesMinorDamage}}
              </li>
            }
            @if (washingMachineDetail.hiddenSurfacesHasMajorDamage) {
              <li>
                {{"I18N.COMMON.MAJOR_DAMAGES" | transloco}}:
                {{washingMachineDetail.hiddenSurfacesMajorDamage}}
              </li>
            }
          </ul>
        </article>
      }

      @if (washingMachineDetail.price > 0 && washingMachineDetail.repairPrice > 0) {
        <article>
          <h3>{{"I18N.COMMON.PRICING" | transloco}}</h3>
  
          <ul class="damages-list">
            <li>{{"I18N.COMMON.PRODUCT_PRICE" | transloco}}: {{washingMachineDetail.price}} €</li>
            <li>{{"I18N.COMMON.PRODUCT_REPAIR_PRICE" | transloco}}: {{washingMachineDetail.repairPrice}} €</li>
          </ul>
        </article>
      }
    </section>
  }
</mat-dialog-content>

<mat-dialog-actions class="mat-dialog-actions-buttons">
  <button mat-raised-button color="primary" 
    (click)="onDownload()">
    {{"I18N.COMMON.DOWNLOAD_RECOMMENDATION" | transloco}}
  </button>

  <button mat-raised-button type="button" color="warn" mat-dialog-close>
    {{"I18N.COMMON.CLOSE" | transloco}}
  </button>
</mat-dialog-actions>

<!-- <mat-icon class="close-icon" color="warn" mat-dialog-close svgIcon="close"></mat-icon> -->